<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Roky Shop</title>
  <meta name="description" content="Roky Shop ‚Äî Buy our product for enchance your game " />

  <style>
    :root{
      --bg0:#050508;
      --bg1:#0a0a10;
      --card: rgba(10,10,16,.62);
      --stroke: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.65);
      --violet: #b14cff;
      --violet2:#7a2cff;
      --glow: 0 0 18px rgba(177,76,255,.35), 0 0 52px rgba(122,44,255,.18);
      --shadow: 0 14px 60px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(900px 500px at 20% 15%, rgba(177,76,255,.18), transparent 55%),
        radial-gradient(900px 500px at 75% 40%, rgba(122,44,255,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* Fond anim√© (l√©ger) */
    .bg{
      position:fixed; inset:0; z-index:-2;
      background:
        radial-gradient(circle at 30% 20%, rgba(255,255,255,.06), transparent 45%),
        radial-gradient(circle at 70% 55%, rgba(177,76,255,.06), transparent 50%);
      filter: blur(0px);
    }
    .stars{
      position:fixed; inset:-10%; z-index:-1; opacity:.35;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,.55) 40%, transparent 41%),
        radial-gradient(1px 1px at 55% 40%, rgba(255,255,255,.6) 40%, transparent 41%),
        radial-gradient(1px 1px at 80% 25%, rgba(255,255,255,.5) 40%, transparent 41%),
        radial-gradient(1px 1px at 85% 70%, rgba(255,255,255,.45) 40%, transparent 41%),
        radial-gradient(1px 1px at 15% 65%, rgba(255,255,255,.5) 40%, transparent 41%);
      animation: drift 18s linear infinite;
    }
    @keyframes drift{
      0%{transform: translate3d(0,0,0)}
      100%{transform: translate3d(-4%, 3%, 0)}
    }

    /* Layout */
    .wrap{max-width:1100px; margin:0 auto; padding:26px 16px 60px}
    header{
      position:sticky; top:0; z-index:20;
      backdrop-filter: blur(12px);
      background: rgba(0,0,0,.35);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .nav{
      max-width:1100px; margin:0 auto; padding:14px 16px;
      display:flex; align-items:center; gap:14px; justify-content:space-between;
    }
    .brand{
      display:flex; align-items:center; gap:12px; letter-spacing:.12em;
      text-transform:uppercase; font-weight:800;
      flex-wrap:wrap;
    }
    .brand .logo{
      width:12px; height:12px; border-radius:50%;
      background: var(--violet);
      box-shadow: var(--glow);
    }
    .brand span{font-size:18px}
    .links{display:flex; gap:16px; align-items:center}
    .links a{
      color:var(--muted); text-decoration:none; font-weight:600;
      padding:8px 10px; border-radius:12px;
    }
    .links a:hover{color:var(--text); background:rgba(255,255,255,.05)}
    .iconBtn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(10,10,16,.45);
      color:var(--text);
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      display:flex; align-items:center; gap:10px;
      box-shadow: 0 8px 30px rgba(0,0,0,.35);
    }
    .iconBtn:hover{border-color:rgba(177,76,255,.45); box-shadow: var(--glow)}
    .badge{
      min-width:22px; height:22px; display:grid; place-items:center;
      padding:0 7px;
      font-size:12px; font-weight:800;
      border-radius:999px;
      background: rgba(177,76,255,.22);
      border:1px solid rgba(177,76,255,.35);
      box-shadow: 0 0 20px rgba(177,76,255,.20);
    }

    /* Hero */
    .hero{padding:44px 0 22px; text-align:center}
    .hero h1{
      margin:0;
      font-size: clamp(34px, 5vw, 60px);
      letter-spacing:.06em;
      text-transform:uppercase;
      font-weight:900;
    }
    .hero h1 .glow{
      color: rgba(255,255,255,.92);
      text-shadow: 0 0 12px rgba(177,76,255,.25);
    }
    .hero p{margin:14px auto 0; max-width:760px; color:var(--muted); font-size:18px; line-height:1.45}
    .ctaRow{margin-top:20px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .btn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(10,10,16,.55);
      color:var(--text);
      padding:12px 16px;
      border-radius: 16px;
      cursor:pointer;
      text-decoration:none;
      font-weight:800;
      display:inline-flex; align-items:center; gap:10px;
    }
    .btn.primary{
      border-color: rgba(177,76,255,.55);
      background: linear-gradient(180deg, rgba(177,76,255,.22), rgba(10,10,16,.55));
      box-shadow: var(--glow);
    }
    .btn:hover{transform: translateY(-1px)}
    .subline{
      margin-top:18px;
      display:flex; justify-content:center; gap:18px; flex-wrap:wrap;
      color: rgba(255,255,255,.55);
      font-weight:600;
      font-size:13px;
    }

    /* Section */
    .sectionTitle{
      margin:30px 0 14px;
      display:flex; align-items:center; justify-content:center; gap:12px;
      color: rgba(255,255,255,.82);
      text-transform:uppercase;
      letter-spacing:.18em;
      font-weight:900;
      font-size:14px;
    }
    .sectionTitle:before,.sectionTitle:after{
      content:""; height:1px; width:120px;
      background: linear-gradient(90deg, transparent, rgba(177,76,255,.55), transparent);
    }

    /* Products grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:16px;
      margin-top:10px;
    }


    .card{
      grid-column: span 6; /* 2 par ligne */
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    @media (max-width: 860px){ .card{grid-column: span 12;} } /* 1 par ligne sur t√©l√©phone */
    .card:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(700px 260px at 15% 20%, rgba(177,76,255,.18), transparent 55%);
      opacity:.9;
      pointer-events:none;
    }

    .cardInner{
      position:relative;
      padding:18px;

      /* AVANT: 88px 1fr */
      /* MAINTENANT: image plus large, reste la m√™me "hauteur" globale */
      display:grid;
      grid-template-columns: 176px 1fr; /* largeur doubl√©e */
      gap:16px;
      align-items:center;
    }

    /* Responsive: sur petits √©crans, image au-dessus du texte */
    @media (max-width: 720px){
      .cardInner{grid-template-columns: 1fr}
    }

    /* Thumbnail image (plus un emoji) */
    .thumb{
      width:176px; height:176px;   /* largeur doubl√©e, hauteur similaire (carr√©) */
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(circle at 30% 30%, rgba(177,76,255,.25), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.45));
      box-shadow: 0 0 0 1px rgba(177,76,255,.20), 0 18px 60px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }

    .thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter:saturate(1.05) contrast(1.05);
    }

    .thumb .tagPill{
      position:absolute;
      left:10px;
      bottom:10px;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
      background: rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 0 18px rgba(177,76,255,.20);
      backdrop-filter: blur(6px);
    }

    .meta h3{margin:0; font-size:20px; letter-spacing:.03em}
    .meta p{margin:8px 0 0; color:var(--muted); font-size:14px; line-height:1.45}
    .meta .price{margin-top:10px; font-weight:900; letter-spacing:.04em}
    .row{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .mini{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      color:var(--text);
      cursor:pointer;
      font-weight:800;
    }
    .mini.add{
      border-color: rgba(177,76,255,.45);
      box-shadow: 0 0 18px rgba(177,76,255,.20);
    }
    .mini:hover{border-color:rgba(177,76,255,.55)}

    /* Footer CTA */
    .footerCta{
      margin-top:28px;
      text-align:center;
      padding:22px;
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.28);
      box-shadow: 0 0 0 1px rgba(177,76,255,.12);
    }
    .footerCta h2{margin:0; font-size:20px; letter-spacing:.08em; text-transform:uppercase}
    .footerCta p{margin:10px auto 0; max-width:720px; color:var(--muted)}
    .footerCta .btn{margin-top:14px}

    /* Drawer cart */
    .drawerOverlay{
      position:fixed; inset:0; background: rgba(0,0,0,.55);
      backdrop-filter: blur(8px);
      opacity:0; pointer-events:none;
      transition:.2s ease;
      z-index:50;
    }
    .drawer{
      position:fixed; top:0; right:0; height:100%; width:min(420px, 92vw);
      background: rgba(6,6,10,.92);
      border-left:1px solid rgba(255,255,255,.10);
      transform: translateX(102%);
      transition:.25s ease;
      z-index:60;
      display:flex; flex-direction:column;
    }
    .drawer.open{transform: translateX(0)}
    .drawerOverlay.open{opacity:1; pointer-events:auto}
    .drawerHeader{
      padding:16px 16px 12px;
      display:flex; align-items:center; justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .drawerHeader h3{margin:0; letter-spacing:.12em; text-transform:uppercase; font-size:14px}
    .closeBtn{background:transparent; border:0; color:var(--text); font-size:20px; cursor:pointer}
    .drawerBody{padding:14px 16px; overflow:auto; flex:1}
    .cartItem{
      display:grid;
      grid-template-columns: 54px 1fr;
      gap:12px;
      padding:12px;
      border:1px solid rgba(255,255,255,.08);
      border-radius:16px;
      background: rgba(255,255,255,.03);
      margin-bottom:10px;
    }

    /* mini image dans le panier */
    .cartThumb{
      width:54px; height:54px; border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
      background: radial-gradient(circle at 30% 30%, rgba(177,76,255,.18), transparent 55%);
    }
    .cartThumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .cartItem h4{margin:0; font-size:14px}
    .cartItem .line{margin-top:6px; color:var(--muted); font-size:12px}
    .qtyRow{margin-top:10px; display:flex; gap:8px; align-items:center; justify-content:space-between}
    .qty{
      display:flex; align-items:center; gap:8px;
      border:1px solid rgba(255,255,255,.10);
      border-radius:14px;
      padding:6px 10px;
      background: rgba(0,0,0,.18);
    }
    .qty button{
      width:28px; height:28px; border-radius:10px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
    }
    .qty button:hover{border-color:rgba(177,76,255,.55)}
    .remove{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color: var(--text);
      border-radius:14px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:800;
    }
    .remove:hover{border-color: rgba(255,80,120,.45)}
    .drawerFooter{
      padding:14px 16px 18px;
      border-top:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
    }
    .totals{
      display:flex; justify-content:space-between; align-items:center;
      margin-bottom:12px;
      font-weight:900;
      letter-spacing:.04em;
    }
    .checkout{
      width:100%;
      justify-content:center;
    }

    /* Checkout modal */
    .modalOverlay{
      position:fixed; inset:0; z-index:80;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(10px);
      display:none;
      padding:18px;
    }
    .modalOverlay.open{display:grid; place-items:center}
    .modal{
      width:min(720px, 96vw);
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(8,8,14,.92);
      box-shadow: 0 20px 90px rgba(0,0,0,.7);
      overflow:hidden;
    }
    .modalTop{
      padding:14px 16px;
      display:flex; justify-content:space-between; align-items:center;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .modalTop strong{letter-spacing:.12em; text-transform:uppercase; font-size:13px}
    .modalBody{padding:16px}
    .payGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 720px){ .payGrid{grid-template-columns:1fr;} }
    .payCard{
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      background: rgba(255,255,255,.03);
      padding:14px;
      position:relative;
    }
    .payCard:before{
      content:"";
      position:absolute; inset:-1px;
      border-radius:18px;
      background: radial-gradient(480px 220px at 20% 20%, rgba(177,76,255,.16), transparent 55%);
      opacity:.9;
      pointer-events:none;
    }
    .payCard > *{position:relative}
    .payCard h4{margin:0; font-size:16px}
    .payCard p{margin:8px 0 0; color:var(--muted); font-size:13px; line-height:1.35}
    .payCard .btn{margin-top:12px; width:100%; justify-content:center}
    .smallNote{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      border:1px dashed rgba(177,76,255,.25);
      color: rgba(255,255,255,.72);
      background: rgba(177,76,255,.06);
      font-size:12.5px;
      line-height:1.35;
    }

    /* tiny */
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid rgba(177,76,255,.25);
      background: rgba(177,76,255,.08);
      border-radius:999px;
      padding:6px 10px;
      font-size:12px;
      color: rgba(255,255,255,.78);
      font-weight:800;
      letter-spacing:.06em;
      text-transform:uppercase;
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="stars"></div>

  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo"></div>
        <span>Roky Shop</span>
        <span class="pill">PayPal / Gamepass</span>
      </div>

      <div class="links">
        <a href="#shop">Shop</a>
        <a href="#about">√Ä propos</a>
        <a href="#contact">Contact</a>

        <button class="iconBtn" id="openCartBtn" aria-label="Ouvrir le panier">
          üõí <span>Panier</span>
          <span class="badge" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1><span class="glow">√âL√àVE</span> TON STYLE</h1>
      <p>
        Paiment accepted <b>PayPal</b> or <b>Roblox Gamepass</b>.
      </p>
      <div class="ctaRow">
        <a class="btn primary" href="#shop">üõçÔ∏è Voir les produits</a>
        <button class="btn" id="openCheckoutFromHero">üí≥ Checkout</button>
      </div>
      <div class="subline">
        <span>‚úÖ SAV VIP</span>
        <span> Cheap </span></span>
        <span> Hight Quality</span>
      </div>
    </section>

    <div class="sectionTitle" id="shop">Star Product</div>

    <section class="grid" id="productGrid">
      <!-- Inject√© par JS -->
    </section>

    <section class="footerCta" id="about">
      <h2>√Ä propos</h2>
      <p>
        My story : COMING SOON
      </p>
      <a class="btn primary" href="#contact">üì© Contact me</a>
    </section>

    <section class="footerCta" id="contact">
      <h2>Contact</h2>
      <p>
        Join our Discord for support
      </p>
      <div class="ctaRow">
        <a class="btn" href="https://instagram.com/" target="_blank" rel="noopener">üì∑ Instagram</a>
        <a class="btn" href="https://discord.gg/SthhDSADFr" target="_blank" rel="noopener">üí¨ Discord</a>
        <a class="btn primary" href="roky.dev.roblox@gmail.com">‚úâÔ∏è Email</a>
      </div>
    </section>
  </main>

  <!-- Panier Drawer -->
  <div class="drawerOverlay" id="drawerOverlay"></div>
  <aside class="drawer" id="drawer">
    <div class="drawerHeader">
      <h3>Panier</h3>
      <button class="closeBtn" id="closeCartBtn" aria-label="Fermer">‚úï</button>
    </div>

    <div class="drawerBody" id="cartItems">
      <!-- items -->
    </div>

    <div class="drawerFooter">
      <div class="totals">
        <span>Total</span>
        <span id="cartTotal">0.00 ‚Ç¨</span>
      </div>
      <button class="btn primary checkout" id="checkoutBtn">üí≥ Payer</button>
      <div style="margin-top:10px; color:rgba(255,255,255,.55); font-size:12px; line-height:1.35;">
        Le panier est sauvegard√© automatiquement sur ton appareil.
      </div>
    </div>
  </aside>

  <!-- Checkout Modal -->
  <div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalTop">
        <strong>Checkout</strong>
        <button class="closeBtn" id="closeModalBtn" aria-label="Fermer">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="payGrid">
          <div class="payCard">
            <h4>PayPal</h4>
            <p>
              Paiement via lien PayPal. Tu remplaces juste l‚ÄôURL par ton PayPal.Me.
              Le montant total est affich√©, le client le met sur PayPal.
            </p>
            <a class="btn primary" id="paypalLink" href="#" target="_blank" rel="noopener">Payer avec PayPal</a>
          </div>

          <div class="payCard">
            <h4>Roblox Gamepass</h4>
            <p>
              Le client ach√®te un Gamepass (ou plusieurs) pour payer.
              Tu mets tes liens de Gamepass ici.
            </p>
            <a class="btn" id="gamepassLink" href="#" target="_blank" rel="noopener">Acheter le Gamepass</a>
          </div>
        </div>

        <div class="smallNote" id="orderSummary"></div>

        <div class="smallNote">
          <b>Livraison :</b> apr√®s paiement, tu peux livrer via Discord/DM/email.
          (Si tu veux, je peux te coder un formulaire de commande + envoi automatique vers Discord webhook.)
        </div>
      </div>
    </div>
  </div>

  <script>
    // =========================
    // 1) CONFIG √Ä MODIFIER ICI
    // =========================
    const SHOP_NAME = "Roky Shop";

    // Mets ton PayPal.me ici (ex: https://www.paypal.me/tonpseudo)
    const PAYPAL_ME_URL = "https://www.paypal.me/TONPSEUDO";

    // Mets l'URL de ton gamepass ici (ex: https://www.roblox.com/game-pass/123456789/Mon-Gamepass)
    const ROBLOX_GAMEPASS_URL = "https://www.roblox.com/";

    // Affichage des prix (tu peux changer)
    const CURRENCY_SYMBOL = "‚Ç¨";
    const ROBUX_SYMBOL = "R$";

    // Tes produits : ajoute une image avec "img"
    // Astuce: mets des fichiers dans un dossier "images/" √† c√¥t√© du html:
    // images/gold.png, images/silver.png, ...
    const PRODUCTS = [
      {
        id:"p1",
        title:"Gold Admin Abuse",
        desc:"Main system",
        priceEUR: 2.00,
        priceRobux: 250,
        tag:"NEON",
        img:"images/gold.png"
      },
      {
        id:"p2",
        title:"Silver Admin Abuse",
        desc:"Pack d‚Äôarticles en th√®me violet sombre.",
        priceEUR: 9.99,
        priceRobux: 999,
        tag:"PACK",
        img:"images/silver.png"
      },
      {
        id:"p3",
        title:"Bronze Admin Abuse",
        desc:"Stock limit√©, r√©serv√© aux rapides.",
        priceEUR: 14.99,
        priceRobux: 1499,
        tag:"LTD",
        img:"images/bronze.png"
      },
      {
        id:"p4",
        title:"Bundle Deluxe",
        desc:"Le bundle le plus complet et styl√©.",
        priceEUR: 24.99,
        priceRobux: 2499,
        tag:"VIP",
        img:"images/bundle.png"
      },
    ];

    // =========================
    // 2) PANIER (LOCALSTORAGE)
    // =========================
    const LS_KEY = "rokyshop_cart_v2";

    function eur(n){
      return new Intl.NumberFormat("fr-FR", { style:"currency", currency:"EUR" }).format(n);
    }

    function robux(n){
      return `${n} ${ROBUX_SYMBOL}`;
    }

    function loadCart(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        const cart = raw ? JSON.parse(raw) : {};
        return (cart && typeof cart === "object") ? cart : {};
      }catch(e){
        return {};
      }
    }

    function saveCart(cart){
      localStorage.setItem(LS_KEY, JSON.stringify(cart));
    }

    function cartCount(cart){
      return Object.values(cart).reduce((a,b)=>a + (b||0), 0);
    }

    function cartTotalEUR(cart){
      let t = 0;
      for (const [id, qty] of Object.entries(cart)){
        const p = PRODUCTS.find(x=>x.id===id);
        if (p) t += (p.priceEUR || 0) * qty;
      }
      return Math.round(t * 100) / 100;
    }

    // =========================
    // 3) RENDER PRODUITS
    // =========================
    const grid = document.getElementById("productGrid");
    const cartCountEl = document.getElementById("cartCount");
    const cartItemsEl = document.getElementById("cartItems");
    const cartTotalEl = document.getElementById("cartTotal");

    let cart = loadCart();

    function safeText(s){
      return String(s ?? "");
    }

    function renderProducts(){
      grid.innerHTML = PRODUCTS.map(p => `
        <article class="card">
          <div class="cardInner">
            <div class="thumb" aria-hidden="true">
              <img src="${safeText(p.img)}" alt="${safeText(p.title)}">
              <div class="tagPill">${safeText(p.tag)}</div>
            </div>

            <div class="meta">
              <h3>${safeText(p.title)}</h3>
              <p>${safeText(p.desc)}</p>

              <div class="row">
                <div class="price">
                  <div style="font-size:18px; font-weight:900;">${eur(p.priceEUR || 0)}</div>
                  <div style="margin-top:4px; color:rgba(255,255,255,.65); font-size:12.5px; font-weight:800;">
                    ou ${robux(p.priceRobux || 0)}
                  </div>
                </div>

                <button class="mini add" data-add="${safeText(p.id)}">Ajouter</button>
              </div>
            </div>
          </div>
        </article>
      `).join("");

      grid.querySelectorAll("[data-add]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const id = btn.getAttribute("data-add");
          addToCart(id, 1);
          openCart();
        });
      });
    }

    // =========================
    // 4) RENDER PANIER
    // =========================
    function renderCart(){
      cartCountEl.textContent = String(cartCount(cart));
      cartTotalEl.textContent = eur(cartTotalEUR(cart));

      const entries = Object.entries(cart).filter(([_,q])=>q>0);
      if (entries.length === 0){
        cartItemsEl.innerHTML = `
          <div style="color:rgba(255,255,255,.65); line-height:1.5; padding:10px 4px;">
            Ton panier est vide.<br/>
            Ajoute un produit pour commencer.
          </div>
        `;
        return;
      }

      cartItemsEl.innerHTML = entries.map(([id, qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        if (!p) return "";
        return `
          <div class="cartItem">
            <div class="cartThumb">
              <img src="${safeText(p.img)}" alt="${safeText(p.title)}">
            </div>
            <div>
              <h4>${safeText(p.title)}</h4>
              <div class="line">${eur(p.priceEUR || 0)} ‚Ä¢ ${robux(p.priceRobux || 0)} ‚Ä¢ ${safeText(p.tag)}</div>
              <div class="qtyRow">
                <div class="qty">
                  <button data-dec="${safeText(p.id)}" aria-label="Diminuer">‚àí</button>
                  <strong>${qty}</strong>
                  <button data-inc="${safeText(p.id)}" aria-label="Augmenter">+</button>
                </div>
                <button class="remove" data-rm="${safeText(p.id)}">Supprimer</button>
              </div>
            </div>
          </div>
        `;
      }).join("");

      cartItemsEl.querySelectorAll("[data-inc]").forEach(b=>b.addEventListener("click",()=>addToCart(b.dataset.inc, 1)));
      cartItemsEl.querySelectorAll("[data-dec]").forEach(b=>b.addEventListener("click",()=>addToCart(b.dataset.dec, -1)));
      cartItemsEl.querySelectorAll("[data-rm]").forEach(b=>b.addEventListener("click",()=>removeFromCart(b.dataset.rm)));
    }

    function addToCart(id, delta){
      const next = { ...cart };
      next[id] = Math.max(0, (next[id] || 0) + delta);
      if (next[id] === 0) delete next[id];
      cart = next;
      saveCart(cart);
      renderCart();
    }

    function removeFromCart(id){
      const next = { ...cart };
      delete next[id];
      cart = next;
      saveCart(cart);
      renderCart();
    }

    // =========================
    // 5) UI Drawer + Modal
    // =========================
    const drawer = document.getElementById("drawer");
    const overlay = document.getElementById("drawerOverlay");
    const openCartBtn = document.getElementById("openCartBtn");
    const closeCartBtn = document.getElementById("closeCartBtn");

    function openCart(){
      overlay.classList.add("open");
      drawer.classList.add("open");
    }
    function closeCart(){
      overlay.classList.remove("open");
      drawer.classList.remove("open");
    }

    openCartBtn.addEventListener("click", openCart);
    closeCartBtn.addEventListener("click", closeCart);
    overlay.addEventListener("click", closeCart);

    // Checkout modal
    const modalOverlay = document.getElementById("modalOverlay");
    const checkoutBtn = document.getElementById("checkoutBtn");
    const closeModalBtn = document.getElementById("closeModalBtn");
    const openCheckoutFromHero = document.getElementById("openCheckoutFromHero");

    const paypalLink = document.getElementById("paypalLink");
    const gamepassLink = document.getElementById("gamepassLink");
    const orderSummary = document.getElementById("orderSummary");

    function openModal(){
      const entries = Object.entries(cart).filter(([_,q])=>q>0);
      const totalEUR = cartTotalEUR(cart);

      if (entries.length === 0){
        orderSummary.innerHTML = `<b>Ton panier est vide.</b> Ajoute un produit avant de payer.`;
        paypalLink.href = PAYPAL_ME_URL;
        gamepassLink.href = ROBLOX_GAMEPASS_URL;
      } else {
        const lines = entries.map(([id, qty])=>{
          const p = PRODUCTS.find(x=>x.id===id);
          if (!p) return "";
          return `‚Ä¢ ${qty}√ó ${safeText(p.title)} (${eur(p.priceEUR || 0)} / ${robux(p.priceRobux || 0)})`;
        }).join("<br/>");

        orderSummary.innerHTML =
          `<b>Commande :</b><br/>${lines}<br/><br/><b>Total :</b> ${eur(totalEUR)}<br/>` +
          `<span style="color:rgba(255,255,255,.65)">(Si paiement via Gamepass, le client ach√®te le(s) pass correspondant(s) au total.)</span>`;

        paypalLink.href = PAYPAL_ME_URL;
        gamepassLink.href = ROBLOX_GAMEPASS_URL;
      }

      modalOverlay.classList.add("open");
    }

    function closeModal(){
      modalOverlay.classList.remove("open");
    }

    checkoutBtn.addEventListener("click", ()=>{
      closeCart();
      openModal();
    });
    closeModalBtn.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e)=>{
      if (e.target === modalOverlay) closeModal();
    });
    openCheckoutFromHero.addEventListener("click", openModal);

    // =========================
    // Init
    // =========================
    document.title = SHOP_NAME;
    renderProducts();
    renderCart();
  </script>
</body>
</html>
